\ProvidesPackage{EEpreambleTufte}

% % Fonts

% \usepackage{kpfonts}
%  \usepackage{eulervm}
% % %
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[danish]{babel} % NOTICE might not compile if danish language pack is not installed
\usepackage{graphicx}
\usepackage{import}
% \usepackage[marginparsep=8pt,left=2.5cm,right=3cm,top=3.0cm,bottom=2.4cm]{geometry}

%% Colors
\RequirePackage{color}
% \RequirePackage[dvipsnames]{xcolor}
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcol}{RGB}{205,217,232}
\definecolor{aublue}{RGB}{3,66,142}
\definecolor{aubluelight}{RGB}{129,160,198}
\definecolor{blaa}{RGB}{1,99,172}   %Faber Castell Blå
\definecolor{roed}{RGB}{179,41,54}  %Faber Castell Rød
\definecolor{groen}{RGB}{25,90,34}  %Faber Castell Grøn
\definecolor{brickred}{rgb}{0.8, 0.25, 0.33}


\hfuzz=15pt
\vfuzz=12pt
%\hbadness=10000

\usepackage{float}
\usepackage{multicol}
\usepackage{multirow}
\usepackage{mdframed}
\usepackage{framed}
% Put footnotes at the bottom of the page
\usepackage[bottom]{footmisc}

\usepackage{tikz-timing}
% \setlength\parindent{0pt}
% %
\usepackage{pdflscape}
\usepackage{caption}
% etoolbox giver mulighed for betinget rendering og boolean logik
\usepackage{etoolbox}
% Mere kontrol over appendix, her indstilles at "Bilag" skal tilføjes til afsnit titlen og appendix skal fremgå i TOC
\usepackage[title,titletoc]{appendix}

% Etc 
\usepackage{enumitem}
\setlist{noitemsep}
\usepackage[binary-units]{siunitx}

\renewcommand{\sectionmark}[1]{\markright{\thesection\ #1}}

\usepackage{fancyhdr}
\usepackage{lastpage}

% \fancypagestyle{front}{% style for TOC, LOF, LOT
% 	\fancyhf{}
% 	\fancyfoot[C]{}
% 	\renewcommand{\headrulewidth}{0pt}
% }


% \fancypagestyle{main}{% style for the mainmatter
% 	\fancyhf{}
% 	\fancyhead[R]{\rightmark}
% 	\fancyhead[L]{}
% 	\fancyfoot[R]{Side~\thepage~af \pageref{LastPage}}    %%% change C to L or R as needed
% 	%         \fancyfoot[c]{\leftmark}
% 	\fancyfoot[L]{Gruppe 37}
% 	\renewcommand\headrulewidth{.4pt}
% 	\renewcommand\footrulewidth{.4pt}
% }

\usepackage{etoolbox}
\usepackage{xfrac}

% \makeatletter
% \newcommand\frontpagestyle{\cleardoublepage\pagestyle{front}\let\ps@plain\ps@front}
% \newcommand\mainpagestyle{\cleardoublepage\pagestyle{main}\let\ps@plain\ps@main}
% \makeatother

\usepackage{titlesec}

% \titleformat{\part}[display]
% {\sf\Huge\filcenter}
% {\partname{} \thepart}
% {0em}
% {\hrule}


% \titleformat{\chapter}[hang] % tror det skal være noget andet end display, måske default "hang"
% {\bfseries\Huge}
% {\thechapter.~}
% {1ex} % Jeg kan ikke få den ned på samme linje.....
% {%
% 	%\vspace{1ex}
% 	%
% }
% [\titlerule]
% \titlespacing*{\chapter}{0pt}{-40pt}{40pt} % Dety er her vi kalder Chapter navn


% \captionsetup[figure]{font={small,it,sf},labelfont={small,sf,bf},name={Fig.},labelsep=colon}

\usepackage{epigraph}
\setlength\epigraphwidth{.3\textwidth}
\setlength\epigraphrule{0.5pt}

\newenvironment{itquote}
{\begin{quote}\itshape}
		{\end{quote}}




% \makeatletter
% \renewcommand*\l@figure{\@dottedtocline{1}{1.5em}{3.5em}}% 3em instead of 2.3em
% \let\l@table\l@figure
% \makeatother



\usepackage{listings}
\usepackage{color}
\usepackage{xcolor}
\usepackage{booktabs}
\usepackage{blindtext}

% Ordliste og forkortelser
% \usepackage[acronym,toc]{glossaries}
% \makeglossaries

\usepackage[footnote,smaller]{acronym}

%%% Subfigures %%%%
\usepackage{caption}
\usepackage{subcaption}

% Giver mulighed for at sætte barriere i dokumentet, som floats ikke kan overskride
% Her indstilles floats til at blive placeret som del af deres sektion
\usepackage[section]{placeins}

%%% TIKZ & CIRCUITIKZ %%%%
\usepackage{tikz}
\usetikzlibrary{arrows}
\usepackage[%
	siunitx,
	EFvoltages,
	%americanvoltages,
	europeanvoltages,
	europeancurrents,
	cuteinductors,
	betterproportions
]{circuitikz}
% \ctikzset{bipoles/length=0.9cm}


\usepackage{pgfplots}
\pgfplotsset{compat=1.16}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Additional packages
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \usepackage{fancyhdr}
% \usepackage{lastpage}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Setup af header
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \fancyhf{}
% \fancyfoot[C]{Side af \pageref{LastPage}}    %%% change C to L or R as needed
% \renewcommand{\headrulewidth}{0pt}
% \renewcommand{\footrulewidth}{0pt}

% \fancypagestyle{plain}{
%   \fancyhead[C]{Adam Ryager Høj - 201803767}
%   \fancyfoot[C]{Side~\thepage~af \pageref{LastPage}}    %%% change C to L or R as needed
%   \renewcommand{\footrulewidth}{0pt} 
%   \renewcommand{\headrulewidth}{0pt}
% }
% \pagestyle{plain}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\usepackage{float}
\usepackage{amsmath, amsfonts, mathtools, amsthm, amssymb}
\usepackage{cancel}
% \usepackage[ISO]{diffcoeff}

\usepackage{steinmetz}
\usepackage{cases}


\interdisplaylinepenalty=2500
% \usepackage[h]{esvect}

\usepackage{letltxmacro}
\makeatletter
\let\oldr@@t\r@@t
\def\r@@t#1#2{%
	\setbox0=\hbox{$\oldr@@t#1{#2\,}$}\dimen0=\ht0
	\advance\dimen0-0.2\ht0
	\setbox2=\hbox{\vrule height\ht0 depth -\dimen0}%
	{\box0\lower0.4pt\box2}}
\LetLtxMacro{\oldsqrt}{\sqrt}
\renewcommand*{\sqrt}[2][\ ]{\oldsqrt[#1]{#2}}
\makeatother






%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\DeclareMathOperator\Arg{Arg}
\DeclareMathOperator\imO{Im}
\DeclareMathOperator\reO{Re}

\newcommand*{\re}[1]{\reO\left\{#1\right\}}
\newcommand*{\im}[1]{\imO\left\{#1\right\}}
\newcommand*{\lap}[1]{\mathcal{L}\left\{#1\right\}}
\newcommand*{\ilap}[1]{\mathcal{L}^{-1}\left\{#1\right\}}
\newcommand*{\E}[1]{\mathrm{\mathbf{e}}^{#1}}
\newcommand*{\J}{\mathbf{j}}
\newcommand{\Foo}{\texttt{[Foo]} }
%% Easy SI
\newcommand*{\ca}[1]{\num{\approx #1}}
\newcommand*{\fdb}{\ensuremath{f_{3db}}\;}
\newcommand*{\rads}{\si{\radian\per\second}\;}
\newcommand*{\kHz}{\;\si{\kilo\hertz}\;}
\newcommand*{\kohm}{\;\si{\kilo\ohm}\;}
%% Vector
\newcommand{\vv}[1]{\ensuremath{\vec{\mathbf{#1}}}}
% \renewcommand*{\vec}[1]{\ensuremath{\mathbf{#1}}}

\newcommand*{\summ}[3]{\sum_{#1}^{#2}\left[ #3 \right]}
\definecolor{blaa}{RGB}{1,99,172}   %Faber Castell Blå
\definecolor{roed}{RGB}{179,41,54}  %Faber Castell Rød
\definecolor{groen}{RGB}{25,90,34}  %Faber Castell Grøn
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% %%% Section numbers
% \makeatletter
% \renewcommand{\@seccntformat}[1]{}
% \makeatother
% \makeatletter
% \let\latexl@section\l@section
% \def\l@section#1#2{\begingroup\let\numberline\@gobble\latexl@section{#1}{#2}\endgroup}
% \makeatother
% \usepackage{pdflscape}

% %% Subsubsection style
% \usepackage{titlesec}

\usepackage{epigraph}

% \titleformat{\subsection}
% {\large\scshape}{}{1em}{}
% \usepackage{hyperref}
% \hypersetup{
% 	colorlinks,
% 	linkcolor={roed!80!black},
% 	citecolor={groen!70!black},
% 	urlcolor={blaa!80!black}
% }

\usepackage{siunitx}
\sisetup{range-phrase = {\text{~til~}}}
\usepackage{lipsum}

\newcommand*{\boxedcolor}{roed}
\makeatletter
\renewcommand{\boxed}[1]{\textcolor{blaa}{%
		\fbox{\normalcolor\m@th$\color{\boxedcolor}\displaystyle#1$}}}
\makeatother


% Etc 

% Titlepage defs

% Figure, table and source code style and macros
% you can override these, also in text, like \def\dirfigs{MyDiretory\}

\def\dirfigs{figs/}
\def\dirsrc{}

% NOTE: do not use underscores in filename, will mess up fig label
\newcommand\schref[1]{figur \ref{sch:#1}}
\newcommand\figref[1]{figur \ref{fig:#1}}
\newcommand\figrefp[1]{figur \ref{fig:#1}, s.~\pageref{fig:#1}}
\newcommand\Figref[1]{Figur \ref{fig:#1}}
\newcommand\tabref[1]{tabel \ref{tab:#1}}
\newcommand\tabrefp[1]{tabel \ref{tab:#1}, s.~\pageref{tab:#1}}
\newcommand\Tabref[1]{Tabel \ref{tab:#1}}
\newcommand\srcref[1]{source code table \ref{src:#1}}
\newcommand\Srcref[1]{Source code table \ref{src:#1}}

\newcommand\coderef[2][src]{kildekode \ref{#1:#2}}
\newcommand\Coderef[2][src]{Kildekode \ref{#1:#2}}
\newcommand\coderefsimple[2][src]{\ref{#1:#2}}

\usepackage{array}
\newcolumntype{L}{>{$}l<{$}} % math-mode version of "l" column type


\newcommand\figbase[3]{
	\begin{figure}[!ht]
		\centering
		#1
		\caption{#3}
		\label{fig:#2}
	\end{figure}
}

% #1 Filename
% #2 Figure width
% #3 Caption
\newcommand\tikzfig[2]{
	\figbase{\input{\dirfigs#1}}{#1}{#2}
}

% #1 Filename
% #2 Figure width
% #3 Caption
\newcommand\fig[3]{
	\figbase{\includegraphics[width=#2\linewidth]{\dirfigs#1}}{#1}{#3}
}
% #1 .tex file and label
% #2 Caption
\newcommand\schem[2]{
	\begin{figure}
		\centering
		\input{\dirfigs#1}
		\caption{#2}
		\label{sch:#1}
	\end{figure}
}


% #1 Filename
% #2 Caption
\newcommand\src[2]{
	\begin{table}[H]
		\centering
		\framebox{
			\rule{8pt}{0pt}
			\lstinputlisting{\dirsrc#1}
		}
		\caption{#2}
		\label{src:#1}
	\end{table}
}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% One column variants
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% #1 Filename
% #2 Figure width
% #3 Caption
\newcommand\figbaseOC[3]{
	\begin{figure*}
		\centering
		#1
		\caption{#3}
		\label{fig:#2}
	\end{figure*}
}

% #1 Filename
% #2 Figure width
% #3 Caption
\newcommand\figOC[3]{
	\figbaseOC{\includegraphics[width=#2\linewidth]{\dirfigs#1}}{#1}{#3}
}
% #1 Filename
% #2 Caption
\newcommand\tabOC[3]{
	\begin{table*}[!ht]
		\caption{#2}
		\label{tab:#3}
		\renewcommand{\arraystretch}{1.3}
		\centering
		#1
	\end{table*}
}




\newcommand\includecode[4][src]{
	\begin{mdframed}[style = code_box]%
		\lstinputlisting[
			label={#1:#2},
			caption={#3},
			xrightmargin=0.05\linewidth,
			breakatwhitespace,
			breaklines,
			#4,
		]{\dirsrc#2}
	\end{mdframed}
}

\usepackage{lstautodedent}

\def\codefontSize{\footnotesize}
\definecolor{bg}{rgb}{.95,.95,.95} % background color
\lstdefinestyle{default}{%
	backgroundcolor=\color{bg},%
	commentstyle=\color{groen}\codefontSize,
	keywordstyle=[1]\color{blaa}\bfseries\codefontSize,        % MATLAB functions bold and blaa
	keywordstyle=[2]\color{codepurple}\codefontSize,         % MATLAB function arguments purple
	keywordstyle=[3]\color{blaa}\underbar\codefontSize,  % User functions underlined and blue
	numberstyle=\tiny\color{codegray},
	stringstyle=\color{roed}\codefontSize,
	basicstyle=\ttfamily\codefontSize,
	xrightmargin=0.05\linewidth,
	breakatwhitespace,
	breaklines,
	captionpos=b,                           %
	mathescape=true,
	keepspaces=true,
	numbers=left,
	showspaces=false,
	showstringspaces=false,
	showtabs=true,
	tabsize=1,
}

\lstdefinestyle{matlab}{language=MATLAB,%
	style=default,
	numbersep=12pt,
	showspaces=false,
	showstringspaces=false,
	showtabs=true,
	tabsize=2,    %emph=[2]{word1,word2}, emphstyle=[2]{style},    
	rangeprefix=\%\%---,
	rangesuffix=---,
	includerangemarker=false,
	autodedent
}

\lstdefinestyle{c}{language=C,%
	style=default,
	rangeprefix=///\ ,
	includerangemarker=false
}

\usepackage{inconsolata}

% 	\renewcommand*\familydefault{\ttdefault} %% Only if the base font of the document is to be typewriter style
% 	\usepackage[italic]{mathastext}
% 	\MTnonlettersobeymathxx     % math alphabets will act on (, ), [, ], etc...
% 	\MTexplicitbracesobeymathxx % math alphabets will act on \{ and \}
% \MTfamily {\ttdefault}      % we will declare a math version using tt font
% \Mathastext [typewriter]    % the math version is called typewriter
% \setlength\parindent{0pt}


\endinput